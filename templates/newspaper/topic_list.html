{% extends "base.html" %}

{% block title %}Topics{% endblock %}

{% block content %}

<form method="get" class="mb-3">
    <div class="input-group">
        <input
            type="text"
            name="q"
            class="form-control"
            placeholder="Search topics..."
            value="{{ request.GET.q }}"
        >
        <button class="btn btn-primary" type="submit">
            üîç Search
        </button>
    {% if request.GET.q %}
        <a href="{% url request.resolver_match.view_name %}"
           class="btn btn-secondary">
            Clear
        </a>
    {% endif %}
    </div>
</form>


<div class="d-flex justify-content-between align-items-center mb-4">
    <h1>Topics</h1>
    <a href="{% url 'newspaper:topic-create' %}" class="btn btn-success">
        + Create topic
    </a>
</div>

<div class="card shadow-sm">
    <ul class="list-group list-group-flush">
        {% for topic in topic_list %}
            <li class="list-group-item d-flex justify-content-between align-items-center">
                <a href="{% url 'newspaper:topic-detail' topic.pk %}">
                    {{ topic.name }}
                </a>
              <span class="badge bg-secondary">
    {{ topic.newspapers_count }} Newspaper{{ topic.newspapers_count|pluralize }}


</span>

            </li>
        {% empty %}
            <li class="list-group-item text-muted">
                No topics yet.
            </li>
        {% endfor %}
    </ul>
</div>
{% include "includes/pagination.html" %}
{% endblock %}
