{% extends "base.html" %}

{% block title %}Redactors{% endblock %}

{% block content %}
<form method="get" class="mb-3">
    <div class="input-group">
        <input
            type="text"
            name="q"
            class="form-control"
            placeholder="Search redactors..."
            value="{{ request.GET.q }}"
        >
        <button class="btn btn-primary" type="submit">
           üîç Search
        </button>
    {% if request.GET.q %}
        <a href="{% url request.resolver_match.view_name %}"
           class="btn btn-secondary">
            Clear
        </a>
    {% endif %}
    </div>
</form>

 <div class="d-flex justify-content-between align-items-center mb-4">
    <h1>Redactors</h1>
    <a href="{% url 'newspaper:redactor-create' %}" class="btn btn-success">
        + Create redactor
    </a>
</div>

<div class="card shadow-sm">
    <table class="table table-hover mb-0">
        <thead class="table-light">
            <tr>
                <th>Username</th>
                <th>Full name</th>
                <th>Experience</th>
            </tr>
        </thead>
        <tbody>
            {% for redactor in redactor_list %}
                <tr>
                    <td>
                        <a href="{% url 'newspaper:redactor-detail' redactor.pk %}">
                            {{ redactor.username }}
                        </a>
                    </td>
                    <td>
                        {{ redactor.first_name }} {{ redactor.last_name }}
                    </td>
                    <td>
                        {{ redactor.years_of_experience }} years
                    </td>
                </tr>
            {% empty %}
                <tr>
                    <td colspan="3" class="text-muted text-center">
                        No redactors found.
                    </td>
                </tr>
            {% endfor %}
        </tbody>
    </table>
</div>
{% include "includes/pagination.html" %}
{% endblock %}
